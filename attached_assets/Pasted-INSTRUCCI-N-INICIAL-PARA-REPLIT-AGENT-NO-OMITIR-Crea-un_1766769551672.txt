INSTRUCCIÓN INICIAL PARA REPLIT AGENT (NO OMITIR)





Crea una aplicación WEB full-stack en Replit con las siguientes características técnicas obligatorias:



Backend: Node.js + Express (REST API)
Base de datos: SQLite (MVP), preparada estructuralmente para migración a PostgreSQL
Frontend: Aplicación web (React + Vite o frontend servido por Express)
Gestión de entorno mediante variables de entorno (Secrets de Replit)
Estructura de proyecto clara, modular y preparada para GitHub
Scripts dev y start en package.json
La aplicación debe correr correctamente con el botón Run de Replit
Implementa EXACTAMENTE el siguiente documento sin resumir ni omitir nada









PROMPT TÉCNICO–FUNCIONAL PROFESIONAL DEFINITIVO







Aplicación Web: 

“Almacenes, Galpones, Espacios Libres”










0) VISIÓN GENERAL DEL PROYECTO





Desarrollar una aplicación web profesional, segura, auditable y escalable llamada

“Almacenes, Galpones, Espacios Libres”, destinada exclusivamente al mercado boliviano, cuyo objetivo es intermediar tecnológicamente el alquiler temporal de:



Almacenes
Galpones
Espacios cerrados (depósitos, cuartos, contenedores)
Espacios abiertos (patios, terrenos)




El alquiler se realiza:



por metros cuadrados (m²)
por periodos de tiempo configurables




La plataforma:



NO es propietaria de los espacios
NO es parte del contrato de alquiler
actúa únicamente como intermediario tecnológico, gestor de:
pagos con escrow,
contratos digitales bilaterales HOST ↔ GUEST,
firmas electrónicas,
facturación (PDF normal y/o SIAT),
auditoría y contabilidad interna,
canal oficial de contacto con la plataforma.










1) PRINCIPIOS FUNDAMENTALES DEL SISTEMA (NO NEGOCIABLES)







1.1 Pago inicial obligatorio (anticipo configurable)





El cliente (GUEST) paga un anticipo inicial del 10% del alquiler dentro de la plataforma.
El porcentaje del anticipo es configurable por el ADMIN (rango permitido: 0% a 100%).
El porcentaje vigente queda congelado por contrato al momento del pago.
El anticipo queda retenido en escrow y no se libera al HOST hasta la confirmación y firma del contrato.









1.2 Flujo posterior al anticipo





Tras el pago del anticipo, el sistema habilita el módulo de CITAS.
NO existe mensajería, chat, teléfono ni email directo entre GUEST y HOST.
La única interacción directa permitida es la visita presencial.









1.3 Dos caminos válidos





Con visita



anticipo → cita → visita → decisión




Sin visita



anticipo → pago total → confirmación directa









1.4 Decisión final





Confirmar → contrato + firma + pago saldo + payout
No me interesa → reembolso 100%




Todo queda auditado y exportable.








2) RESTRICCIONES TÉCNICAS OBLIGATORIAS





(igual que versiones anteriores, sin cambios)








3) SEGURIDAD, AUTENTICACIÓN Y ANTI-BOT





(igual que versiones anteriores, sin cambios)








4) BÚSQUEDA DE ESPACIOS





(igual que versiones anteriores, sin cambios)








5) DETALLE DEL ESPACIO (SECCIÓN CRÍTICA Y LEGAL)







5.1 Encabezado visual







5.1.1 Galería de fotos (OBLIGATORIA)





Fotos reales, actuales
Interior y exterior
Parte del material precontractual









5.1.2 Video explicativo (OBLIGATORIO)



Duración



Mínimo recomendado: 30 segundos
Máximo absoluto: 60 segundos
El sistema debe bloquear videos más largos




Contenido obligatorio

El video debe mostrar claramente y de forma continua:



Interior completo
Paredes
Techo
Piso
Puertas
Forma de ingreso al espacio
Breve vista del acceso desde la calle o entorno inmediato




Reglas legales



Forma parte del contrato
Queda congelado al firmar
No puede cambiarse retroactivamente









5.2 Información estructural





Tipo de espacio
m² totales
m² disponibles









5.3 Precios por m²





día
semana
mes
trimestre
semestre
año









5.4 Calculadora





m²
periodo
cantidad
total
anticipo
saldo restante









5.5 Condiciones estructuradas





abierto / cerrado
con techo / sin techo
entra lluvia / no entra
entra tierra o polvareda / no entra
acceso libre / controlado
con cuidado / sin cuidado
seguridad ofrecida
horarios









5.6 Descripción detallada (OBLIGATORIA)





(igual que antes, congelada y contractual)








5.7 Información del HOST





persona natural o jurídica
nombre / razón social
ubicación referencial
sin contacto directo









6) PAGO, RESERVA Y ESCROW





Acción: Pagar anticipo y reservar
Estado: PAID_DEPOSIT_ESCROW
Métodos: tarjeta / QR









7) MÓDULO DE CITAS Y VISITAS (DESARROLLADO COMPLETO)







7.1 Calendario del HOST





El HOST debe poder:



definir días disponibles para visitas,
definir rangos horarios por día,
bloquear fechas específicas,
pausar disponibilidad temporalmente.




Reglas:



solo disponible para espacios publicados,
editable solo por el HOST,
cambios quedan auditados.









7.2 Solicitud de cita por el GUEST





El GUEST puede:



ver el calendario del HOST,
seleccionar fecha y hora disponible,
solicitar una cita sin enviar mensajes libres.




Al solicitar cita:



se registra:
GUEST
HOST
espacio
fecha y hora
IP, fecha, user-agent










7.3 Estados de la cita





Una cita puede estar en los siguientes estados:



solicitada
aceptada
rechazada
reprogramada
realizada
no asistida




Reglas:



El HOST puede aceptar, rechazar o proponer reprogramación.
El GUEST puede aceptar reprogramaciones.
Todo cambio queda auditado.









7.4 Cláusula anti-bypass – GUEST (OBLIGATORIA)





Antes de confirmar una cita, el GUEST debe aceptar y firmar digitalmente una cláusula que establece:



prohibición absoluta de contratar directa o indirectamente con el HOST fuera de la plataforma,
prohibición antes, durante y después de la visita,
aceptación de sanciones:
bloqueo de cuenta,
pérdida de beneficios,
acciones legales conforme a ley boliviana.





Sin aceptación → no se agenda la cita.








7.5 Cláusula anti-bypass – HOST (OBLIGATORIA)





En el registro del HOST y antes de publicar:



acepta que todo cliente obtenido vía plataforma pertenece a la plataforma,
no puede alquilar directa o indirectamente fuera del sistema,
sanciones:
expulsión,
retención de pagos,
indemnización,
acciones legales.










8) DECISIÓN FINAL DEL GUEST







Confirmar





pago saldo
contrato
firmas
payout
facturación






No me interesa





reembolso 100%
registro auditado









9) IDENTIFICACIÓN LEGAL





(Persona natural / jurídica, CI obligatorio, NIT opcional u obligatorio según tipo)








10) CONTRATO BILATERAL DIGITAL





datos completos
m²
precios
periodo
condiciones
video + descripción vinculados
responsabilidad
ley boliviana
PDF exportable









11) FIRMA DIGITAL





OTP
IP
fecha
user-agent









12) COMISIÓN





0%–100%
Configurable por ADMIN
Congelada por contrato









13) FACTURACIÓN





PDF normal
SIAT opcional
Logos diferenciados









14) MÓDULO LEGAL





Aviso Legal
T&C
Privacidad
Pagos y Reembolsos
Intermediación
Anti-bypass









15) PANEL ADMIN PROFESIONAL





Usuarios
Listings
Contratos
Pagos
Anticipos
Reembolsos
Comisiones
Facturación
Contabilidad
Exportaciones









16) UI / UX





Marketplace moderno
Mobile-first
Flujos guiados
Calendarios
Feedback claro









17) CONTACTO CON LA PLATAFORMA





Footer “Contactar”
Solo contacto con la plataforma
Gestión ADMIN









18) EXTENSIÓN / PRÓRROGA DE ALQUILER





Botón “Alargar alquiler”
Nuevo pago
Anexo contractual
Facturación
Anti-bypass reafirmado









FRASE FINAL DEL SISTEMA





“Almacenes, Galpones, Espacios Libres” es un intermediario tecnológico.

El sistema usa anticipo configurable y saldo al confirmar.

El video es obligatorio (máx. 60 segundos) y forma parte del contrato.

Las visitas se gestionan con calendario.

No se permite contratación fuera de la plataforma.

Solo con contrato firmado se libera el pago.”

